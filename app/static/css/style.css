/* Enhanced System Monitor Styles with Authentication, Navigation, and New Features */

/* ============================================================================
   CSS VARIABLES
   ============================================================================ */
:root {
    --bg-color: #0f172a;
    --card-bg: rgba(30, 41, 59, 0.7);
    --text-primary: #f8fafc;
    --text-secondary: #94a3b8;
    --accent-color: #38bdf8;
    --accent-glow: rgba(56, 189, 248, 0.3);
    --success-color: #4ade80;
    --warning-color: #facc15;
    --danger-color: #f87171;
    --font-family: 'Outfit', sans-serif;
    --sidebar-width: 250px;
}

/* ============================================================================
   BASE STYLES
   ============================================================================ */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    background-color: var(--bg-color);
    color: var(--text-primary);
    font-family: var(--font-family);
    min-height: 100vh;
    background-image:
        radial-gradient(at 0% 0%, rgba(56, 189, 248, 0.15) 0px, transparent 50%),
        radial-gradient(at 100% 0%, rgba(168, 85, 247, 0.15) 0px, transparent 50%);
    overflow-x: hidden;
}

/* ============================================================================
   SIDEBAR NAVIGATION
   ============================================================================ */
.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    width: var(--sidebar-width);
    height: 100vh;
    background: var(--card-bg);
    backdrop-filter: blur(12px);
    border-right: 1px solid rgba(255, 255, 255, 0.1);
    padding: 2rem 0;
    display: flex;
    flex-direction: column;
    z-index: 1000;
    transition: width 0.1s ease;
    /* Smooth width transition */
}

.sidebar-resizer {
    position: absolute;
    right: 0;
    top: 0;
    width: 5px;
    height: 100%;
    cursor: col-resize;
    background: transparent;
    transition: background 0.2s;
    z-index: 1001;
}

.sidebar-resizer:hover,
.sidebar.resizing .sidebar-resizer {
    background: var(--accent-color);
}


.sidebar-header {
    padding: 0 1.5rem 2rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.sidebar-header h2 {
    background: linear-gradient(to right, #38bdf8, #818cf8);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-size: 1.5rem;
    margin: 0;
}

.nav-menu {
    flex: 1;
    list-style: none;
    padding: 1rem 0;
}

.nav-menu li {
    margin: 0.25rem 0;
}

.nav-menu a {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1.5rem;
    color: var(--text-secondary);
    text-decoration: none;
    transition: all 0.2s ease;
}

.nav-menu a:hover {
    background: rgba(56, 189, 248, 0.1);
    color: var(--accent-color);
}

.nav-menu a.active {
    background: rgba(56, 189, 248, 0.15);
    color: var(--accent-color);
    border-right: 3px solid var(--accent-color);
}

.nav-menu .icon {
    font-size: 1.25rem;
    min-width: 1.5rem;
    /* Ensure icon has space when text is hidden */
    text-align: center;
}

/* Sidebar Collapsed State */
.sidebar.collapsed .nav-menu a span:not(.icon),
.sidebar.collapsed .sidebar-footer a span {
    display: none;
}

.sidebar.collapsed .sidebar-header h2 {
    display: none;
}

.sidebar.collapsed .sidebar-header {
    padding: 1rem;
    display: flex;
    justify-content: center;
}

/* Show a small logo or icon in header when collapsed if desired */
.sidebar.collapsed .sidebar-header::after {
    content: 'SM';
    font-weight: bold;
    color: var(--accent-color);
    font-size: 1.2rem;
}

.sidebar.collapsed .user-info span {
    display: none;
}

.sidebar.collapsed .sidebar-footer {
    padding: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
}


.sidebar-footer {
    padding: 1rem 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.user-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}

.user-name {
    font-weight: 500;
}

.admin-badge {
    background: rgba(168, 85, 247, 0.2);
    color: #a855f7;
    padding: 0.125rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
}

.profile-link,
.logout-link {
    display: block;
    padding: 0.5rem 0;
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 0.875rem;
    transition: color 0.2s ease;
}

.profile-link:hover,
.logout-link:hover {
    color: var(--accent-color);
}

.sidebar-footer a {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    justify-content: center;
    /* Center content (icon) when collapsed if needed, or left align usually */
}

.sidebar.collapsed .sidebar-footer a {
    justify-content: center;
}

/* ============================================================================
   MAIN CONTENT AREA
   ============================================================================ */
.main-content {
    margin-left: var(--sidebar-width);
    min-height: 100vh;
    padding: 2rem;
}

.main-content.no-sidebar {
    margin-left: 0;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
}

/* ============================================================================
   FLASH MESSAGES
   ============================================================================ */
.flash-messages {
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 2000;
    max-width: 400px;
}

.flash-message {
    padding: 1rem 1.5rem;
    margin-bottom: 0.5rem;
    border-radius: 0.5rem;
    backdrop-filter: blur(12px);
    border: 1px solid;
    display: flex;
    justify-content: space-between;
    align-items: center;
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }

    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.flash-success {
    background: rgba(74, 222, 128, 0.1);
    border-color: var(--success-color);
    color: var(--success-color);
}

.flash-error {
    background: rgba(248, 113, 113, 0.1);
    border-color: var(--danger-color);
    color: var(--danger-color);
}

.flash-info {
    background: rgba(56, 189, 248, 0.1);
    border-color: var(--accent-color);
    color: var(--accent-color);
}

.close-flash {
    background: none;
    border: none;
    color: inherit;
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    margin-left: 1rem;
}

/* ============================================================================
   AUTHENTICATION PAGES
   ============================================================================ */
.auth-page {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 2rem;
}

.auth-container {
    width: 100%;
    max-width: 400px;
}

.auth-card {
    background: var(--card-bg);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 1rem;
    padding: 2rem;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.auth-header {
    text-align: center;
    margin-bottom: 2rem;
}

.auth-header h1 {
    background: linear-gradient(to right, #38bdf8, #818cf8);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-size: 2rem;
    margin-bottom: 0.5rem;
}

.auth-header p {
    color: var(--text-secondary);
    font-size: 0.875rem;
}

.auth-form {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.form-group label {
    color: var(--text-secondary);
    font-size: 0.875rem;
    font-weight: 500;
}

.form-group input[type="text"],
.form-group input[type="email"],
.form-group input[type="password"],
.form-group input[type="number"],
.form-group select,
.form-group textarea {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 0.5rem;
    padding: 0.75rem 1rem;
    color: var(--text-primary);
    font-family: inherit;
    font-size: 1rem;
    transition: all 0.2s ease;
}

/* Ensure select dropdowns show all options properly */
.form-group select {
    cursor: pointer;
    appearance: auto;
    -webkit-appearance: menulist;
    -moz-appearance: menulist;
}

.form-group select option {
    background: var(--card-bg);
    color: var(--text-primary);
    padding: 0.5rem 1rem;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--accent-color);
    box-shadow: 0 0 0 3px var(--accent-glow);
}

.form-hint {
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.checkbox-group label {
    flex-direction: row;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
}

.checkbox-group input[type="checkbox"] {
    width: 1rem;
    height: 1rem;
    cursor: pointer;
}

.btn-primary {
    background: linear-gradient(135deg, var(--accent-color), #818cf8);
    color: white;
    border: none;
    border-radius: 0.5rem;
    padding: 0.75rem 1.5rem;
    font-family: inherit;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(56, 189, 248, 0.3);
}

.auth-footer {
    text-align: center;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.auth-footer p {
    color: var(--text-secondary);
    font-size: 0.875rem;
}

.auth-footer a {
    color: var(--accent-color);
    text-decoration: none;
    font-weight: 500;
}

.auth-footer a:hover {
    text-decoration: underline;
}

/* ============================================================================
   DASHBOARD COMPONENTS
   ============================================================================ */
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
}

h1 {
    font-weight: 600;
    font-size: 2rem;
    letter-spacing: -0.025em;
    background: linear-gradient(to right, #38bdf8, #818cf8);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

h2 {
    font-size: 1.125rem;
    font-weight: 400;
    color: var(--text-secondary);
    margin-bottom: 1rem;
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: var(--success-color);
    background: rgba(74, 222, 128, 0.1);
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
}

.dot {
    width: 8px;
    height: 8px;
    background-color: var(--success-color);
    border-radius: 50%;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.7);
    }

    70% {
        box-shadow: 0 0 0 6px rgba(74, 222, 128, 0);
    }

    100% {
        box-shadow: 0 0 0 0 rgba(74, 222, 128, 0);
    }
}

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.card {
    background: var(--card-bg);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 1rem;
    padding: 1.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    border-color: rgba(56, 189, 248, 0.3);
}

.metric-large {
    font-size: 3.5rem;
    font-weight: 600;
    line-height: 1;
    margin-bottom: 1rem;
    color: var(--text-primary);
}

.unit {
    font-size: 1.5rem;
    color: var(--text-secondary);
    margin-left: 0.25rem;
}

.sub-metrics {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.5rem;
    position: relative;
    z-index: 10;
}

.sub-metric {
    display: flex;
    flex-direction: column;
}

.sub-metric .label {
    font-size: 0.75rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.sub-metric .value {
    font-size: 1rem;
    font-weight: 500;
}

.chart-container {
    position: relative;
    height: 150px;
    width: 100%;
}

.io-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.io-item {
    background: rgba(255, 255, 255, 0.05);
    padding: 1rem;
    border-radius: 0.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.disk-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.disk-item {
    background: rgba(255, 255, 255, 0.03);
    padding: 1rem;
    border-radius: 0.5rem;
}

.disk-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
    font-size: 0.875rem;
}

.disk-bar-bg {
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.disk-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent-color), #818cf8);
    border-radius: 3px;
    transition: width 0.5s ease;
}

/* ============================================================================
   TABLES
   ============================================================================ */
table {
    width: 100%;
    border-collapse: collapse;
}

thead {
    background: rgba(255, 255, 255, 0.05);
}

th {
    padding: 0.75rem 1rem;
    text-align: left;
    font-size: 0.875rem;
    color: var(--text-secondary);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

td {
    padding: 0.75rem 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

tr:hover {
    background: rgba(255, 255, 255, 0.03);
}

/* ============================================================================
   BUTTONS
   ============================================================================ */
.btn {
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    font-family: inherit;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.15);
}

.btn-danger {
    background: rgba(248, 113, 113, 0.2);
    color: var(--danger-color);
}

.btn-danger:hover {
    background: rgba(248, 113, 113, 0.3);
}

.btn-sm {
    padding: 0.375rem 0.75rem;
    font-size: 0.8125rem;
}

/* ============================================================================
   CLICKABLE CONNECTION VALUES
   ============================================================================ */
.clickable-connection {
    cursor: pointer;
    transition: all 0.2s ease;
    border-bottom: 2px solid transparent;
}

.clickable-connection:hover {
    color: var(--accent-color);
    border-bottom-color: var(--accent-color);
}

/* ============================================================================
   MODAL
   ============================================================================ */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    /* Remove background to make it modeless/transparent */
    background: transparent;
    /* Allow clicking through the container */
    pointer-events: none;
    z-index: 2000;
    /* Remove centering to allow free movement */
    /* justify-content: center; */
    /* align-items: center; */
}

/* Ensure content is clickable and has a background */
.modal-content {
    background: var(--card-bg);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 1rem;
    /* Initial size/pos handled by JS or defaults */
    width: 600px;
    height: 500px;
    /* Center initially using calc to avoid transform conflict with interact.js */
    top: calc(50% - 250px);
    left: calc(50% - 300px);
    margin: 0;
    transform: none;
    /* Start with no transform so interact.js adds to 0,0 */

    /* Ensure touch-action is none for dragging */
    touch-action: none;
    display: flex;
    flex-direction: column;
    position: absolute;
    pointer-events: auto;
    /* Inactive State (Default) */
    opacity: 0.85;
    transition: opacity 0.2s, box-shadow 0.2s, border-color 0.2s;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
    /* Custom scrollbar styling */
    scrollbar-width: thin;
    scrollbar-color: var(--accent-color) var(--card-bg);
}

/* Webkit scrollbar for Chrome, Safari */
.modal-content::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

.modal-content::-webkit-scrollbar-track {
    background: var(--card-bg);
    border-radius: 4px;
}

.modal-content::-webkit-scrollbar-thumb {
    background-color: var(--accent-color);
    border-radius: 4px;
    border: 2px solid var(--card-bg);
}

/* Global scrollbar styling */
body {
    scrollbar-width: thin;
    scrollbar-color: var(--accent-color) var(--card-bg);
}

body::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

body::-webkit-scrollbar-track {
    background: var(--card-bg);
    border-radius: 4px;
}

body::-webkit-scrollbar-thumb {
    background-color: var(--accent-color);
    border-radius: 4px;
    border: 2px solid var(--bg-color);
    /* Match body bg for "floating" look */
}

/* Datetime numbers color */
.datetime-dashboard {
    color: var(--text-secondary);
    /* Base color for text */
    font-weight: 600;
}

.dt-number {
    color: var(--accent-color);
    /* Color for numbers */
    font-weight: 700;
}




/* Active State */
.modal-content.active {
    opacity: 1;
    border-color: var(--accent-color);
    box-shadow: 0 0 20px var(--accent-glow), 0 20px 25px -5px rgba(0, 0, 0, 0.5);
}

/* Maximized State */
.modal-content.maximized {
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    transform: none !important;
    border-radius: 0 !important;
}

/* Minimized State */
.modal-content.minimized {
    height: auto !important;
    width: 250px !important;
    top: auto !important;
    left: auto !important;
    bottom: 0 !important;
    /* We need to manage horizontal position for multiple minimized windows. 
       For simplicity, we'll just stack them or let them stay where they were horizontally if possible, 
       but "docked" usually means fixed position. 
       Let's try fixing them to the bottom left, stacking. 
       Or just let them float but collapse height. */
    transform: none !important;
    /* Reset transform to rely on top/left/bottom */
    position: fixed !important;
    margin: 0 10px;
    overflow: hidden;
}

/* When minimized, hide body */
.modal-content.minimized .modal-body {
    display: none;
}

.modal-content.minimized .modal-header {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}

@keyframes slideUp {
    from {
        transform: translateY(30px);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    cursor: move;
    /* Indicate draggable */
}

.modal-header h2 {
    margin: 0;
    font-size: 1.5rem;
    background: linear-gradient(to right, #38bdf8, #818cf8);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.modal-controls {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.modal-btn {
    background: none;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 1rem;
    padding: 0.25rem;
    transition: color 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 4px;
}

.modal-btn:hover {
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.1);
}

.modal-close {
    background: none;
    border: none;
    color: var(--text-primary);
    font-size: 2rem;
    cursor: pointer;
    padding: 0;
    width: 2rem;
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.5rem;
    transition: all 0.2s ease;
}

.modal-close:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--danger-color);
}

.modal-body {
    padding: 1.5rem;
    overflow-y: auto;
    flex: 1;
}

/* ============================================================================
   CONNECTION TABLE
   ============================================================================ */
.connection-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.875rem;
}

.connection-table thead {
    background: var(--card-bg);
    backdrop-filter: blur(12px);
    position: sticky;
    top: 0;
    z-index: 10;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.connection-table th {
    padding: 0.75rem 1rem;
    text-align: left;
    font-size: 0.8125rem;
    color: var(--text-secondary);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.connection-table td {
    padding: 0.75rem 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
}

.connection-table tbody tr {
    transition: background 0.15s ease;
}

.connection-table tbody tr:hover {
    background: rgba(255, 255, 255, 0.03);
}

/* ============================================================================
   STATUS BADGES
   ============================================================================ */
.status-badge {
    display: inline-block;
    padding: 0.25rem 0.625rem;
    border-radius: 0.375rem;
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.025em;
}

.status-established {
    background: rgba(74, 222, 128, 0.15);
    color: var(--success-color);
    border: 1px solid rgba(74, 222, 128, 0.3);
}

.status-listen {
    background: rgba(56, 189, 248, 0.15);
    color: var(--accent-color);
    border: 1px solid rgba(56, 189, 248, 0.3);
}

.status-time_wait {
    background: rgba(250, 204, 21, 0.15);
    color: var(--warning-color);
    border: 1px solid rgba(250, 204, 21, 0.3);
}

.status-close_wait,
.status-syn_sent,
.status-syn_recv {
    background: rgba(168, 85, 247, 0.15);
    color: #a855f7;
    border: 1px solid rgba(168, 85, 247, 0.3);
}

.status-closed,
.status-closing {
    background: rgba(248, 113, 113, 0.15);
    color: var(--danger-color);
    border: 1px solid rgba(248, 113, 113, 0.3);
}

/* ============================================================================
   RESPONSIVE
   ============================================================================ */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
    }

    .main-content {
        margin-left: 0;
    }

    .dashboard-grid {
        grid-template-columns: 1fr;
    }

    .metric-large {
        font-size: 2.5rem;
    }

    .modal-content {
        max-width: 95%;
        width: 95%;
        max-height: 90vh;
    }

    .connection-table {
        font-size: 0.75rem;
    }

    .connection-table th,
    .connection-table td {
        padding: 0.5rem;
    }
}

/* Interactive Disk Features */
.clickable-widget {
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.clickable-widget:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.2);
    border-color: var(--accent-color);
}

.clickable-io-item,
.clickable-disk-item {
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 8px;
    padding: 0.5rem;
    margin: -0.5rem;
}

.clickable-io-item:hover,
.clickable-disk-item:hover {
    background: rgba(255, 255, 255, 0.05);
    transform: translateY(-1px);
}

.clickable-io-item:hover .value,
.clickable-disk-item:hover strong {
    color: var(--accent-color);
    text-decoration: underline;
    text-decoration-thickness: 2px;
    text-underline-offset: 4px;
}

/* Directory List Styling */
.directory-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.directory-item {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
    padding: 1rem;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.directory-info {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
}

.directory-path {
    font-family: 'JetBrains Mono', monospace;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 70%;
}

.directory-size {
    font-weight: 600;
    color: var(--accent-color);
}

.directory-bar-bg {
    background: rgba(255, 255, 255, 0.1);
    height: 6px;
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.directory-bar-fill {
    background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
    height: 100%;
    border-radius: 3px;
    transition: width 0.5s ease-out;
}

.directory-meta {
    font-size: 0.75rem;
    color: var(--text-secondary);
    text-align: right;
}

/* Loading Spinner */
.spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    border-top-color: var(--accent-color);
    /* ============================================================================
   INTERACTIVE UI ENHANCEMENTS
   ============================================================================ */

    /* Draggable Modals */
    .modal-content {
        /* Enable touch-action for Interact.js */
        touch-action: none;
        user-select: none;
        transform: translate(0px, 0px);
        position: relative;
        /* Ensure positioning context */
    }

    .modal-header {
        cursor: move;
        /* Indicate draggable area */
    }

    .sidebar.sidebar-right {
        left: auto;
        right: 0;
        border-right: none;
        border-left: 1px solid rgba(255, 255, 255, 0.1);
    }

    .main-content.content-left {
        margin-left: 0;
        margin-right: var(--sidebar-width);
    }

    .main-content.content-left.sidebar-collapsed {
        margin-right: 80px;
    }
}

/* Datetime Display - Dashboard Integrated */
.datetime-dashboard {
    font-family: 'Outfit', sans-serif;
    font-size: 1rem;
    font-weight: 500;
    color: var(--text-secondary);
    background: rgba(255, 255, 255, 0.05);
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    white-space: nowrap;
    display: flex;
    align-items: center;
}

/* Tooltips for collapsed sidebar icons */
.sidebar.collapsed .nav-menu a,
.sidebar.collapsed .sidebar-footer a {
    position: relative;
}

.sidebar.collapsed .nav-menu a:hover::after,
.sidebar.collapsed .sidebar-footer a:hover::after {
    content: attr(data-title);
    /* Use data-title attribute for clean tooltip text */
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    background: var(--card-bg);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    white-space: nowrap;
    z-index: 1000;
    margin-left: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

/* Fix for right sidebar tooltips */
.sidebar.sidebar-right.collapsed .nav-menu a:hover::after {
    left: auto;
    right: 100%;
    margin-left: 0;
    margin-right: 10px;
}

/* Spinner Animation */
@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}